(()=>{"use strict";var e=$("#developers-report-date-picker"),a="ar"==languageName?moment().lang("en"):moment();$(window).on("load",(function(){loadDevelopersWorkReport(a.format("YYYY-MM-D  H:mm:ss"))})),e.on("apply.daterangepicker",(function(e,a){var t="ar"==languageName?a.startDate.lang("en").format("YYYY-MM-D  H:mm:ss"):a.startDate.format("YYYY-MM-D  H:mm:ss");loadDevelopersWorkReport(t)})),window.cb=function(a){e.find("span").html(a.format("MMM D, YYYY"))},cb(a),e.daterangepicker({startDate:a,opens:"left",maxDate:moment(),autoUpdateInput:!1,singleDatePicker:!0,locale:{customRangeLabel:Lang.get("messages.common.custom"),applyLabel:Lang.get("messages.common.apply"),cancelLabel:Lang.get("messages.common.cancel"),fromLabel:Lang.get("messages.common.from"),toLabel:Lang.get("messages.common.to"),monthNames:[Lang.get("messages.months.jan"),Lang.get("messages.months.feb"),Lang.get("messages.months.mar"),Lang.get("messages.months.apr"),Lang.get("messages.months.may"),Lang.get("messages.months.jun"),Lang.get("messages.months.jul"),Lang.get("messages.months.aug"),Lang.get("messages.months.sep"),Lang.get("messages.months.oct"),Lang.get("messages.months.nov"),Lang.get("messages.months.dec")],daysOfWeek:[Lang.get("messages.weekdays.sun"),Lang.get("messages.weekdays.mon"),Lang.get("messages.weekdays.tue"),Lang.get("messages.weekdays.wed"),Lang.get("messages.weekdays.thu"),Lang.get("messages.weekdays.fri"),Lang.get("messages.weekdays.sat")]}},cb),window.loadDevelopersWorkReport=function(e){$.ajax({type:"GET",url:route("developers-work-report"),dataType:"json",data:{start_date:e},cache:!1}).done(prepareDeveloperWorkReport)},window.prepareDeveloperWorkReport=function(e){$("#developers-daily-work-report-container").html("");var a=e.data;if(0===a.totalRecords)return $("#developers-daily-work-report-container").empty(),$("#developers-daily-work-report-container").append('<div align="center" class="no-record">'+noRecordFoundMessage+"</div>"),!0;$("#developers-daily-work-report-container").html(""),$("#developers-daily-work-report-container").append('<canvas id="developers-daily-work-report"></canvas>');var t=document.getElementById("developers-daily-work-report").getContext("2d");t.canvas.style.height="500px",t.canvas.style.width="100%";new Chart(t,{type:"bar",data:{labels:a.data.labels,datasets:[{label:a.label,data:a.data.data,backgroundColor:a.data.backgroundColor,borderWidth:1}]},options:{tooltips:{mode:"index",callbacks:{label:function(a,t){var s=document.createElement("textarea");s.innerHTML=t.datasets[a.datasetIndex].label;var o=s.value||"";return o&&(o+=": "),o+(e=convertToTimeFormat(a.yLabel))}}},scales:{yAxes:[{scaleLabel:{display:!0,labelString:"Hours"}}]},legend:{display:!1}}})},window.convertToTimeFormat=function(e){var a=e.toString().split("."),t=parseInt(a[0]),s=Math.floor(60*e)-Math.floor(60*t);return 0===t?s+"min":s>0?t+"hr "+s+"min":t+"hr"}})();