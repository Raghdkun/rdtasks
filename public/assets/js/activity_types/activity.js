$(document).ready((function(){"use strict";$("#activity_type").DataTable({processing:!0,serverSide:!0,order:[[0,"asc"]],ajax:{url:route("activity-types.index")},columnDefs:[{targets:[1],orderable:!1,className:"text-center",width:"5%"}],fnInitComplete:function(){},columns:[{data:"name",name:"name"},{data:function(t){return'<a title="Edit" class="btn action-btn btn-primary btn-sm edit-btn mr-1" data-id="'+t.id+'"><i class="cui-pencil action-icon"></i></a><a title="Delete" class="btn action-btn btn-danger btn-sm delete-btn" data-id="'+t.id+'"><i class="cui-trash action-icon" ></i></a>'},name:"id"}]}),$(document).on("submit","#addNewForm",(function(t){t.preventDefault();var e=jQuery(this).find("#btnSave");e.button("loading"),$.ajax({url:route("activity-types.store"),type:"POST",data:$(this).serialize(),success:function(t){t.success&&(displaySuccessMessage(t.message),$("#AddModal").modal("hide"),$("#activity_type").DataTable().ajax.reload(null,!1),window.livewire.emit("refresh"))},error:function(t){printErrorMessage("#validationErrorsBox",t)},complete:function(){e.button("reset")}})})),$(document).on("submit","#editForm",(function(t){t.preventDefault();var e=jQuery(this).find("#btnEditSave");e.button("loading");var a=$("#activityTypeId").val();$.ajax({url:route("activity-types.update",a),type:"put",data:$(this).serialize(),success:function(t){t.success&&(displaySuccessMessage(t.message),$("#EditModal").modal("hide"),$("#activity_type").DataTable().ajax.reload(null,!1),window.livewire.emit("refresh"))},error:function(t){manageAjaxErrors(t)},complete:function(){e.button("reset")}})})),$(document).on("click",".addNewActivityType",(function(t){$("#AddModal").appendTo("body").modal("show")})),$("#AddModal").on("hidden.bs.modal",(function(){resetModalForm("#addNewForm","#validationErrorsBox")})),$("#EditModal").on("hidden.bs.modal",(function(){resetModalForm("#editForm","#editValidationErrorsBox")})),window.renderData=function(t){$.ajax({url:route("activity-types.edit",t),type:"GET",success:function(t){if(t.success){$("#activityTypeId").val(t.data.id);var e=document.createElement("textarea");e.innerHTML=t.data.name,$("#activityType").val(e.value),$("#EditModal").appendTo("body").modal("show")}},error:function(t){manageAjaxErrors(t)}})},$(document).on("click",".edit-btn",(function(t){var e=$(t.currentTarget).attr("data-id");renderData(e)})),$(document).on("click",".delete-btn",(function(t){var e=$(t.currentTarget).attr("data-id");if(e==localStorage.getItem("currentActivityId"))return displayErrorMessage("This Activity Type use in tracker"),!1;deleteItem(route("activity-types.destroy",e),"#activity_type","Activity Type","location.reload()")})),$(".modal").on("show.bs.modal",(function(){$(this).appendTo("body")}))}));